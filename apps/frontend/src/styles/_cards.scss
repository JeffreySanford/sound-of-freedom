// Harmonia Card Styles
// Material Design 3 elevated and outlined card patterns
// "Legendary" vibrant styling with smooth animations

@use 'colors' as c;
@use 'mixins' as m;

// ============================================================================
// BASE CARD
// Foundation styles for all card variants
// ============================================================================
.harmonia-card {
  background-color: c.$color-surface;
  border-radius: 12px;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
  position: relative;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: c.$gradient-aurora;
    opacity: 0;
    transition: opacity 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
  }

  &:hover::before {
    opacity: 1;
  }
}

// ============================================================================
// ELEVATED CARD
// Standard card with shadow elevation
// ============================================================================
.harmonia-card-elevated {
  @extend .harmonia-card;
  box-shadow: c.$shadow-2;

  &:hover {
    box-shadow: c.$shadow-4;
    transform: translateY(-2px);
  }

  &:active {
    box-shadow: c.$shadow-1;
    transform: translateY(0);
  }
}

// ============================================================================
// OUTLINED CARD
// Border-only card for subtle emphasis
// ============================================================================
.harmonia-card-outlined {
  @extend .harmonia-card;
  border: 1px solid c.$color-divider;
  box-shadow: none;

  &:hover {
    border-color: c.$primary-300;
    box-shadow: c.$shadow-1;
  }
}

// ============================================================================
// FILLED CARD
// Solid background card with tonal surface
// ============================================================================
.harmonia-card-filled {
  @extend .harmonia-card;
  background-color: c.$color-surface-variant;
  box-shadow: none;

  &:hover {
    background-color: c.$neutral-200;
    box-shadow: c.$shadow-1;
  }
}

// ============================================================================
// INTERACTIVE CARD
// Clickable card with cursor and accessibility
// ============================================================================
.harmonia-card-interactive {
  cursor: pointer;
  user-select: none;

  &:focus-visible {
    outline: 2px solid c.$primary-500;
    outline-offset: 2px;
  }

  &[disabled] {
    opacity: 0.38;
    cursor: not-allowed;
    pointer-events: none;
  }
}

// ============================================================================
// CARD HEADER
// Top section with title and actions
// ============================================================================
.harmonia-card-header {
  padding: 16px 20px;
  border-bottom: 1px solid c.$color-divider;
  display: flex;
  align-items: center;
  justify-content: space-between;

  &-title {
    font-size: 20px;
    font-weight: 500;
    color: c.$color-text-primary;
    margin: 0;
  }

  &-subtitle {
    font-size: 14px;
    color: c.$color-text-secondary;
    margin: 4px 0 0 0;
  }

  &-actions {
    display: flex;
    gap: 8px;
  }
}

// ============================================================================
// CARD CONTENT
// Main content area with consistent padding
// ============================================================================
.harmonia-card-content {
  padding: 20px;

  &-compact {
    padding: 12px 16px;
  }

  &-spacious {
    padding: 24px 32px;
  }
}

// ============================================================================
// CARD FOOTER
// Bottom section with actions or metadata
// ============================================================================
.harmonia-card-footer {
  padding: 12px 20px;
  border-top: 1px solid c.$color-divider;
  display: flex;
  align-items: center;
  justify-content: space-between;
  background-color: c.$color-surface-variant;

  &-actions {
    display: flex;
    gap: 8px;
    margin-left: auto;
  }
}

// ============================================================================
// CARD MEDIA
// Image or video container with aspect ratio
// ============================================================================
.harmonia-card-media {
  width: 100%;
  display: block;
  position: relative;
  overflow: hidden;
  background-color: c.$neutral-200;

  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  &-16-9 {
    padding-bottom: 56.25%; // 16:9 aspect ratio
  }

  &-4-3 {
    padding-bottom: 75%; // 4:3 aspect ratio
  }

  &-1-1 {
    padding-bottom: 100%; // 1:1 square
  }
}

// ============================================================================
// THEMED CARDS
// Special cards with gradient backgrounds
// ============================================================================
.harmonia-card-aurora {
  @extend .harmonia-card-elevated;
  background: c.$gradient-aurora;
  color: white;

  .harmonia-card-header-title,
  .harmonia-card-content {
    color: white;
  }

  .harmonia-card-header-subtitle {
    color: rgba(255, 255, 255, 0.8);
  }
}

.harmonia-card-sunset {
  @extend .harmonia-card-elevated;
  background: c.$gradient-sunset;
  color: white;

  .harmonia-card-header-title,
  .harmonia-card-content {
    color: white;
  }

  .harmonia-card-header-subtitle {
    color: rgba(255, 255, 255, 0.8);
  }
}

.harmonia-card-prairie {
  @extend .harmonia-card-elevated;
  background: c.$gradient-prairie;
  color: white;

  .harmonia-card-header-title,
  .harmonia-card-content {
    color: white;
  }

  .harmonia-card-header-subtitle {
    color: rgba(255, 255, 255, 0.8);
  }
}

// ============================================================================
// CARD GRID
// Responsive grid layout for card collections
// ============================================================================
.harmonia-card-grid {
  display: grid;
  gap: 24px;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
    gap: 16px;
  }

  &-compact {
    gap: 16px;
    grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  }

  &-wide {
    gap: 32px;
    grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
  }
}

// ============================================================================
// DARK MODE OVERRIDES
// Card styles for dark theme
// ============================================================================
.dark-theme {
  .harmonia-card {
    background-color: c.$color-surface-dark;

    &-outlined {
      border-color: c.$color-divider-dark;

      &:hover {
        border-color: c.$primary-700;
      }
    }

    &-filled {
      background-color: c.$color-surface-variant-dark;

      &:hover {
        background-color: c.$neutral-600;
      }
    }
  }

  .harmonia-card-header {
    border-bottom-color: c.$color-divider-dark;

    &-title {
      color: c.$color-text-primary-dark;
    }

    &-subtitle {
      color: c.$color-text-secondary-dark;
    }
  }

  .harmonia-card-footer {
    border-top-color: c.$color-divider-dark;
    background-color: c.$color-surface-variant-dark;
  }
}
