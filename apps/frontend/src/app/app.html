<div class="app-container">
  <header class="app-header">
    <h1 class="app-title">Harmonia</h1>
    <nav class="app-nav">
      <!-- Header User Menu (always-visible) - guest fallback handles Sign In/Sign Up -->
      <harmonia-header-user-menu></harmonia-header-user-menu>
    </nav>
  </header>

  <div class="app-content">
    <aside class="app-sidebar" *ngIf="isAuthenticated$ | async">
      <nav class="sidebar-nav">
        <a
          routerLink="/generate/song"
          routerLinkActive="active"
          class="nav-item"
        >
          <span class="nav-icon">ğŸµ</span>
          <span class="nav-label">Song Generation</span>
        </a>
        <a routerLink="/library" routerLinkActive="active" class="nav-item">
          <span class="nav-icon">ğŸ“š</span>
          <span class="nav-label">Library</span>
        </a>
        <a
          routerLink="/generate/music"
          routerLinkActive="active"
          class="nav-item"
        >
          <span class="nav-icon">ğŸ¼</span>
          <span class="nav-label">Music Generation</span>
        </a>
        <a
          routerLink="/generate/video"
          routerLinkActive="active"
          class="nav-item"
        >
          <span class="nav-icon">ğŸ¬</span>
          <span class="nav-label">Video Generation</span>
        </a>
        <a routerLink="/edit/video" routerLinkActive="active" class="nav-item">
          <span class="nav-icon">âœ‚ï¸</span>
          <span class="nav-label">Video Editing</span>
        </a>

        <!-- Admin-only link: only show if user is admin -->
        <a
          *ngIf="(isAdmin$ | async)"
          routerLink="/admin"
          routerLinkActive="active"
          class="nav-item"
        >
          <span class="nav-icon">ğŸ› ï¸</span>
          <span class="nav-label">Admin Dashboard</span>
        </a>
      </nav>
    </aside>

    <main class="main-stage">
      <router-outlet></router-outlet>
    </main>
  </div>

  <footer class="app-footer">
    <p class="footer-text">Â© 2025 Harmonia - Phase 1</p>
  </footer>
</div>
